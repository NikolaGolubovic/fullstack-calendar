(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,n){e.exports=n(60)},40:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),l=n(8),s=n(12),u=(n(39),n(10)),i={infos:[],errors:[]},m=function(e){return{type:"NEW_ERROR",content:e}},f=function(){return Math.floor(1e5*Math.random())},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_INFO":return Object(u.a)(Object(u.a)({},e),{},{infos:e.infos.concat({content:t.content,id:"info-".concat(f())})});case"NEW_ERROR":return console.log(t.con),Object(u.a)(Object(u.a)({},e),{},{errors:e.errors.concat({content:t.content,id:"error-".concat(f())})});case"REMOVE_INFO":return Object(u.a)(Object(u.a)({},e),{},{info:e.info.filter((function(e){return e.id!==t.id}))});case"REMOVE_ERROR":return Object(u.a)(Object(u.a)({},e),{},{errors:e.errors.filter((function(e){return e.id!==t.id}))});case"RESET":return i;default:return e}},b=Object(s.createStore)(d),p=(n(40),n(1)),v=n(3),E=n.n(v),h=n(5),O=n(6),g=n(4),y={background:"#162447",color:"white",secondaryColor:"#e43f5a",borderColor:"#1b1b2f"},j={background:"snow",color:"black",secondaryColor:"maroon",borderColor:"silver"},w=n(9),k=n.n(w),S={register:function(){var e=Object(h.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N={login:function(){var e=Object(h.a)(E.a.mark((function e(t){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var x=function(e){var t=e.user,n=e.setUser,c=e.setEvents,o=e.theme,s=e.setTheme,u=Object(a.useState)(""),i=Object(p.a)(u,2),f=i[0],d=i[1],b=Object(a.useState)(""),v=Object(p.a)(b,2),w=v[0],k=v[1],x=Object(a.useState)(""),C=Object(p.a)(x,2),_=C[0],M=C[1],T=Object(a.useState)(""),R=Object(p.a)(T,2),F=R[0],D=R[1],I=Object(a.useState)(""),A=Object(p.a)(I,2),P=A[0],J=A[1],U=Object(a.useState)(!1),V=Object(p.a)(U,2),W=V[0],Y=V[1],z=Object(a.useState)(!1),K=Object(p.a)(z,2),B=K[0],L=K[1],q=Object(a.useState)(g.f),G=Object(p.a)(q,2),H=G[0],Q=G[1],X=Object(l.b)(),Z={display:W?"":"none"},$={display:B?"":"none"},ee=function(){var e=Object(h.a)(E.a.mark((function e(t){var n,a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=[],e.prev=2,f.length<3&&n.push({message:"Your Username is need to be at least 3 characters long"}),w.length<5&&n.push({message:"Your password is need to be at least 5 characters long"}),w!==_&&n.push({message:"Confirm your Password correctly"}),0===n.length){e.next=8;break}throw n;case 8:return e.next=10,S.register({username:f,password:w});case 10:a=e.sent,r=JSON.stringify(a),window.localStorage.setItem("loggedUser",r),window.location.reload(),e.next=24;break;case 16:if(e.prev=16,e.t0=e.catch(2),Y(!1),!Array.isArray(e.t0)){e.next=22;break}return e.t0.forEach((function(e){return X(m(e.message))})),e.abrupt("return");case 22:console.log(e.t0.response),X(m(e.t0.response.data.message));case 24:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(h.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,N.login({username:F,password:P});case 4:n=e.sent,a=JSON.stringify(n),window.localStorage.setItem("loggedUser",a),window.location.reload(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),L(!1),X(m(e.t0.response.data.msg));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("nav",{className:"nav"},r.a.createElement("p",null,r.a.createElement("small",null,r.a.createElement(O.a,{className:"font-awesome",icon:H,onClick:function(){H===g.f?Q(g.c):Q(g.f),s(o===j?y:j)}}))),t?r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("p",null,r.a.createElement("small",null,t," ",r.a.createElement(O.a,{className:"font-awesome",icon:g.g}))),r.a.createElement("p",{onClick:function(){c([]),window.localStorage.clear(),n("")}},r.a.createElement("small",null,"Log Out"," ",r.a.createElement(O.a,{className:"font-awesome",icon:g.e})," "))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"register"},r.a.createElement("p",{onClick:function(){Y(!W),L(!1)}},r.a.createElement("small",null,"Sign In"," ",r.a.createElement(O.a,{className:"font-awesome",icon:g.g}))),r.a.createElement("form",{className:"signup-form",style:Z,onSubmit:ee},r.a.createElement("label",{htmlFor:""},"Choose Username",r.a.createElement("input",{type:"text",value:f,onChange:function(e){return d(e.target.value)}})),r.a.createElement("label",{htmlFor:""},"Choose Passowrd",r.a.createElement("input",{type:"password",value:w,autoComplete:"off",onChange:function(e){return k(e.target.value)}})),r.a.createElement("label",{htmlFor:""},"Confirm Passowrd",r.a.createElement("input",{type:"password",value:_,autoComplete:"off",onChange:function(e){return M(e.target.value)}})),r.a.createElement("button",null,"Confirm"))),r.a.createElement("div",{className:"login"},r.a.createElement("p",{onClick:function(){L(!B),Y(!1)}},r.a.createElement("small",null,"Sign In"," ",r.a.createElement(O.a,{className:"font-awesome",icon:g.d}))),r.a.createElement("form",{className:"login-form",style:$,onSubmit:te},r.a.createElement("label",{htmlFor:""},"Username:",r.a.createElement("input",{type:"text",value:F,onChange:function(e){return D(e.target.value)}})),r.a.createElement("label",{htmlFor:""},"Password:",r.a.createElement("input",{type:"password",value:P,autoComplete:"on",onChange:function(e){return J(e.target.value)}})),r.a.createElement("button",null,"Confirm")))))},C=null,_={setToken:function(e){C="bearer ".concat(e)},getToken:function(){console.log(C)},getEvents:function(){var e=Object(h.a)(E.a.mark((function e(){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:C}},e.next=3,k.a.get("/api/events",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(h.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:C}},e.next=3,k.a.post("/api/events",t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),edit:function(){var e=Object(h.a)(E.a.mark((function e(t,n){var a,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:C}},e.next=3,k.a.put("".concat("/api/events","/").concat(n),t,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=Object(h.a)(E.a.mark((function e(t){var n,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:C}},e.next=3,k.a.delete("".concat("/api/events","/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var M=function(e){var t=e.setModalOn,n=e.setEvents,c=e.events,o=e.modalDay,s=e.modalDate,u=e.modalMonth,i=e.modalYear,f=e.editModal,d=e.setEditModal,b=e.editEventText,v=e.editEventTime,y=e.eventKey,j=e.eventId,w=Object(a.useState)(""),k=Object(p.a)(w,2),S=k[0],N=k[1],x=Object(a.useState)(0),C=Object(p.a)(x,2),M=C[0],T=C[1],R=Object(a.useState)(b),F=Object(p.a)(R,2),D=F[0],I=F[1],A=Object(a.useState)(v),P=Object(p.a)(A,2),J=P[0],U=P[1],V=Object(l.b)();function W(){return(W=Object(h.a)(E.a.mark((function e(t,a,r,o){var l,s,u;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(M<0||M>=24)){e.next=3;break}throw new Error("Time must be between 0 and 24");case 3:return l={},s=""+t+a+r+o,console.log("createEvent dateKey",s),l[s]=S,l.time=M,e.next=10,_.create({eventMsg:S,eventTime:M,dateKey:s});case 10:u=e.sent,n(c.concat(u.event)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),V(m(e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}var Y=function(){var e=Object(h.a)(E.a.mark((function e(a,r){var o,l,s,u,i,m;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!1),d(!1),e.next=4,_.edit({event_msg:D,event_time:J},y);case 4:o=e.sent,l=o.event,s=l.date_key,u=l.event_text,i=l.event_time,m=l.event_id,n(c.map((function(e){return e.date_key===s?{event_text:u,event_time:i,id:m,date_key:s}:e})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(h.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.remove(j);case 3:t(!1),d(!1),n(c.filter((function(e){return e.id!==j}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"modal-container"},f?r.a.createElement("div",{className:"modal-edit-container"},r.a.createElement("button",{onClick:z,className:"delete-event-button"},"Delete"),r.a.createElement("form",{onSubmit:Y,className:"modal-edit-form"},r.a.createElement("button",{className:"modal-edit-close-button",onClick:function(){t(!1),d(!1)}},r.a.createElement(O.a,{icon:g.h})),r.a.createElement("label",{htmlFor:""},r.a.createElement("h3",null,"Edit your Event:"),r.a.createElement("input",{type:"text",value:D,onChange:function(e){return I(e.target.value)}})),r.a.createElement("label",{htmlFor:""},r.a.createElement("h3",null,"Edit Time of Event"),r.a.createElement("input",{type:"text",value:J,onChange:function(e){return U(e.target.value)}})),r.a.createElement("button",{className:"confirm-edit"},"Finish Editing"))):r.a.createElement("form",{className:"modal-controller",onSubmit:function(e){e.preventDefault(),function(e,t,n,a){W.apply(this,arguments)}(o,s,u,i),t(!1)}},r.a.createElement("button",{className:"modal-close",onClick:function(){return t(!1)}},r.a.createElement(O.a,{icon:g.h})),r.a.createElement("label",{htmlFor:""},r.a.createElement("h3",null,"Name your Event:"),r.a.createElement("input",{type:"text",onChange:function(e){return N(e.target.value)}})),r.a.createElement("label",{htmlFor:""},r.a.createElement("h3",null,"Time When The Event Starts"),r.a.createElement("input",{type:"text",onChange:function(e){return T(e.target.value)}})),r.a.createElement("button",{className:"btn-create"},"Create")))},T=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],R=["January","February","March","April","May","June","July","August","September","October","November","December"],F=Array.from({length:5},(function(e,t){return(new Date).getFullYear()+t}));var D=function(e){var t=e.events,n=e.setEvents,c=e.user,o=Object(a.useState)((new Date).getMonth()),s=Object(p.a)(o,2),u=s[0],i=s[1],f=Object(a.useState)((new Date).getFullYear()),d=Object(p.a)(f,2),b=d[0],v=d[1],E=Object(a.useState)(0),h=Object(p.a)(E,2),y=h[0],j=h[1],w=Object(a.useState)([]),k=Object(p.a)(w,2),S=k[0],N=k[1],x=Object(a.useState)(!1),C=Object(p.a)(x,2),_=C[0],D=C[1],I=Object(a.useState)(0),A=Object(p.a)(I,2),P=A[0],J=A[1],U=Object(a.useState)(0),V=Object(p.a)(U,2),W=V[0],Y=V[1],z=Object(a.useState)(0),K=Object(p.a)(z,2),B=K[0],L=K[1],q=Object(a.useState)(0),G=Object(p.a)(q,2),H=G[0],Q=G[1],X=Object(a.useState)(!1),Z=Object(p.a)(X,2),$=Z[0],ee=Z[1],te=Object(a.useState)(""),ne=Object(p.a)(te,2),ae=ne[0],re=ne[1],ce=Object(a.useState)(""),oe=Object(p.a)(ce,2),le=oe[0],se=oe[1],ue=Object(a.useState)(""),ie=Object(p.a)(ue,2),me=ie[0],fe=ie[1],de=Object(a.useState)(0),be=Object(p.a)(de,2),pe=be[0],ve=be[1],Ee=Object(a.useState)([]),he=Object(p.a)(Ee,2),Oe=he[0],ge=he[1],ye=Object(l.b)();function je(e,t){var n=function(e,t){return 32-new Date(e,t,32).getDate()}(t,e),a=new Date(t,e).getDay(),r=null;r=n+a>35?Array.from({length:42}):Array.from({length:35});for(var c=0,o=a;o<n+a;o++)o-c>6&&(c+=7),r[o]=T[o-c];N(r),j(a)}return Object(a.useEffect)((function(){je(u,b)}),[u,b]),Object(a.useEffect)((function(){for(var e=[],t=0;t<F.length;t++)for(var n=0;n<R.length;n++)e.push("".concat(F[t]," ").concat(R[n]));var a=(new Date).getMonth();ge(e.slice(a))}),[]),r.a.createElement("div",null,_&&r.a.createElement(M,{events:t,setEvents:n,setModalOn:D,modalDay:P,modalDate:W,modalMonth:B,modalYear:H,editModal:$,editEventText:ae,editEventTime:le,setEditModal:ee,eventKey:me,eventId:pe}),r.a.createElement("div",{className:"calendar-container"},r.a.createElement("div",{className:"controller-and-info-month"},r.a.createElement("div",{onClick:function(){if(0===u)return i(11),void v(b-1);i(u-1)},className:"button-left"},r.a.createElement(O.a,{className:"arrow font-awesome",icon:g.a})," "),R[u]," ",b,r.a.createElement("div",{onClick:function(){if(11===u)return i(0),void v(b+1);i(u+1)},className:"button-right"},r.a.createElement(O.a,{className:"arrow font-awesome",icon:g.b})," ")),r.a.createElement("div",{className:"days-names"},T.map((function(e){return r.a.createElement("div",{className:"day-name",key:e},e)}))),r.a.createElement("div",{className:"dates"},S.length>0&&S.map((function(e,n){var a=""+e+(n+1-y)+u+b;return r.a.createElement("div",{className:"date",key:(n+1).toString()+u+b,onClick:e&&c?function(){D(!0),J(e),Y(n+1-y),L(u),Q(b)}:function(){ye(m(c?"Be careful where you click!":"Invalid action, if you want to make event firstly you need to be Login!"))}},r.a.createElement("small",null,e&&n+1-y),t.map((function(e){return e.date_key===a?r.a.createElement("div",{className:"events",key:e.id+a,onClick:function(e){e.stopPropagation()}},r.a.createElement("div",{className:"single-event"},r.a.createElement("small",{onClick:function(){return function(e,t,n,a){D(!0),ee(!0),re(e),se(t),fe(n),ve(a)}(e.event_text,e.event_time,a,e.id)}},e.event_text," ",e.event_time,"h"))):""})))}))),r.a.createElement("label",{className:"label-choose-month"},"Chooose Month",r.a.createElement("select",{name:"",id:"",onChange:function(e){for(var t=e.target.value.split(" "),n=0,a=+t[0],r=0;r<R.length;r++)R[r]===t[1]&&(n=r);v(a),i(n),je(a,n)},className:"choose-month"},Oe.map((function(e){return r.a.createElement("option",{key:e,value:e},e)}))))))},I=n(11);var A=function(e){var t,n=e.lightTheme,a=(e.nightTheme,e.theme),c=Object(l.b)(),o=Object(l.c)((function(e){return e})),s=(t={display:"flex",justifyContent:"space-between",border:"solid",borderWidth:1,borderColor:o.errors.length>0?"red":"green",padding:10,color:a===n?"black":"white"},Object(I.a)(t,"padding",10),Object(I.a)(t,"width","99%"),Object(I.a)(t,"margin","0 auto"),t),u={backgroundColor:"none",color:"red"};return r.a.createElement(r.a.Fragment,null,o.info&&o.info.map((function(e){return setTimeout((function(){return c({type:"REMOVE_INFO",id:e.id})}),3e3),r.a.createElement("div",{className:"info-notification",key:e.id},r.a.createElement("p",null,e.content),r.a.createElement("div",{className:"btn-notification",onClick:function(){return c({type:"REMOVE_INFO",id:e.id})}},r.a.createElement(O.a,{icon:g.h,style:u})))})),o.errors&&o.errors.map((function(e){return setTimeout((function(){return c({type:"REMOVE_ERROR",id:e.id})}),3e3),r.a.createElement("div",{style:s,key:e.id},r.a.createElement("p",null,e.content),r.a.createElement("div",{className:"btn-notification",onClick:function(){return c({type:"REMOVE_ERROR",id:e.id})}},r.a.createElement(O.a,{icon:g.h,style:u})))})))};var P=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(y),l=Object(p.a)(o,2),s=l[0],u=l[1],i=Object(a.useState)([]),m=Object(p.a)(i,2),f=m[0],d=m[1];Object(a.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("loggedUser"));e&&(c(e.username),_.setToken(e.token))}),[n]),Object(a.useEffect)((function(){_.getEvents().then((function(e){return d(f.concat(e.events))}))}),[]),Object(a.useEffect)((function(){b(s)}),[s]);var b=function(e){u(e),document.documentElement.style.setProperty("--main-bg-color",e.background),document.documentElement.style.setProperty("--main-color",e.color),document.documentElement.style.setProperty("--secondary-color",e.secondaryColor),document.documentElement.style.setProperty("--border-color",e.borderColor)};return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement(x,{user:n,setUser:c,setEvents:d,theme:s,setTheme:u}),r.a.createElement(A,{lightTheme:j,nightTheme:y,theme:s}),r.a.createElement(D,{user:n,events:f,setEvents:d})))};o.a.render(r.a.createElement(l.a,{store:b},r.a.createElement(P,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.2a3bd136.chunk.js.map